
## 几个基本的数学概念

为了继续学习后面的知识，我们先回顾一下以下几个基本的数学概念。

- 均值

一个离散序列的算术平均数：

$$
\bar x = \frac{1}{n}\sum\limits_{i=1}^n x_i \tag{1.9}
$$

比如一个数组（向量）$x=[1,2,3,4,5,6]$，其均值为 $(1+2+3+4+5+6)/6=3.5$。

- 数学期望

对于离散的随机变量，其一切的可能的取值 $x_i$ 与对应的可能出现的概率 $p_i$ 的乘积之和就是该离散序列的数学期望。

$$
E(x) = \sum_{i=1}^n p_i x_i \tag{1.10}
$$

比如一个六面的骰子（1 到 6），掷出每个数字的概率都是 $\frac{1}{6}$，即$p_i=\frac{1}{6}$，则：

$$
E(x) = \frac{1}{6}\times 1+\frac{1}{6}\times 2+\frac{1}{6}\times 3+\frac{1}{6}\times 4+\frac{1}{6}\times 5+\frac{1}{6}\times 6=3.5
$$

如果是个有机关的骰子，掷出 1 至 6 的概率分别为 $p=[0.1,0.1,0.1,0.3,0.4,0.0]$，则 $E(x)=0.1 \times 1+0.1 \times 2+0.1 \times 3+0.3 \times 4+0.4 \times 5+0.0 \times 6=3.8$。

- 偏差
- 方差

方差（variance）这一词语率先由罗纳德·费雪（Ronald Fisher）提出。

统计中的方差（样本方差）是每个样本值与全体样本值的平均数之差的平方值的平均数。

当总体数量已知为 $n$ 时，总体方差为：

$$
\begin{aligned}
\sigma^2 &=\frac{1}{n} \sum_{i=1}^n(x_i-\bar x)^2 \\
&=\frac{1}{n} \sum_{i=1}^n x_i^2 - (\frac{1}{n} \sum_{i=1}^n x_i)^2
 \tag{1.11}    
\end{aligned}

$$

当总体数量未知时，用抽取的样本数量代替，经校正后，样本方差为：

$$
S^2=\frac{1}{n-1}\sum_{i=1}^n (x_i-\bar x)^2 \tag{1.12}
$$

在概率分布中，随即离散变量的方差公式是：

$$
Var(x) = E([x-E(x)]^2)=E(x^2)-E^2(x) \tag{1.13}
$$

（如何推导）

- 协方差

在概率论和统计学中，协方差用于衡量两个变量的总体误差。而方差是协方差的一种特殊情况，即当两个变量是相同的情况。

期望值分别为 $E(x)$ 与 $E(y)$ 的两个实随机变量 $x$ 与 $y$ 之间的协方差 $Cov(x,y)$ 定义为：

$$
Cov(x,y) = E([x-E(x)][y-E(y)])=E(xy)-E(x)E(y) \tag{1.14}
$$

（如何推导）

比较公式1.13和1.14，把公式1.14中的x换成y，就变成了公式1.13，可见方差是协方差的特殊形式。

对于离散变量，公式如下：

$$
\begin{aligned}
cov(x,y) &= \frac{1}{n} \sum_{i=1}^n (x_i -\bar x)(y_i - \bar y)    \\
&= \frac{1}{n}\sum_{i=1}^nx_iy_i - \frac{1}{n^2}\sum_{i=1}^nx_i \sum_{i=1}^ny_i
\end{aligned}

\tag{1.15}
$$

公式 1.11 的推导过程：

$$
\begin{aligned}
\sigma^2 &=\frac{1}{n} \sum_{i=1}^n(x_i-\bar x)^2 
\\
&=\frac{1}{n} \sum(x_i^2-2x_i \bar{x} + \bar{x}^2)
\\
&=\frac{1}{n}(\sum x_i^2 - 2 \sum (x_i \frac{1}{n}\sum x_i) + (\frac{1}{n}\sum x_i )^2)
\\
&=\frac{1}{n}(\sum x_i^2 - \frac{2}{n} (\sum x_i)^2 + \frac{1}{n^2} (\sum x_i)^2)
\\
&=\frac{1}{n} \sum_{i=1}^n x_i^2 - (\frac{1}{n} \sum_{i=1}^n x_i)^2
 \tag{1.11}    
\end{aligned}

$$