

最小二乘法在多元线性回归中仍然适用，比如，我们还是使用均方差作为误差函数，则有：

$$
J = \sum_{i=1}^n [y_i - (a_1 x_{i,1} + a_2 x_{i,2}+b)]^2
$$

然后分别求 $J$ 对 $a_1, a_2, b$ 的偏导数并令其结果为 0，会得到一个三元一次的方程组，通过解方程组即可得到 $a_1, a_2, b$ 的值。但是，实际上多元线性回归的一般形式为公式 2.2.1 所示：

$$
y = a_1x_1 + a_2x_2 +a_3x_3 + \dots + a_kx_k + b \tag{2.2.1}
$$

如果分别对 $a_1 \dots a_k$ 求偏导，再加上 $b$，那就要解一个 $k+1$ 元一次方程组，这种方法就会变得很麻烦。所以，我们下面要寻求一种普遍适用的方法。

根据公式 2.2.1，假设我们只有 3 个样本数据，并把

$$
y_1 = a_1 x_{1,1}+a_2 x_{1,2}+b
\\
y_2 = a_1 x_{2,1}+a_2 x_{2,2}+b
\\
y_3 = a_1 x_{3,1}+a_2 x_{3,2}+b
$$

写成矩阵形式：

$$
\boldsymbol{Y} = 
\begin{pmatrix}
y_1
\\
y_2
\\
y_3
\end{pmatrix}
a_1 
\begin{pmatrix}
    x_{1,1} 
    \\\\
    x_{2,1}
    \\\\
    x_{3,1}
\end{pmatrix}+a_2 
\begin{pmatrix}
    x_{1,2} 
    \\\\
    x_{2,2}
    \\\\
    x_{3,2}
\end{pmatrix}
+ 
\begin{pmatrix}
    b
    \\\\
    b
    \\\\
    b
\end{pmatrix}
$$

\\\\
& (下面把两列x合并)
\\\\
&=
\begin{pmatrix} 
x_{1,1} & x_{1,2}
\\\\
x_{2,1} & x_{2,2}
\\\\
x_{3,1} & x_{3,2}
\end{pmatrix} 
\begin{pmatrix} 
a_1
\\\\
a_2
\end{pmatrix} +b 
\\\\
& (下面把b命名为a_0，然后合并到矩阵第一列)
\\\\
&=
\begin{pmatrix} 
1 & x_{1,1} & x_{1,2}
\\\\
1 & x_{2,1} & x_{2,2}
\\\\
1 & x_{3,1} & x_{3,2}
\end{pmatrix} 

\begin{pmatrix} 
a_0
\\\\
a_1
\\\\
a_2
\end{pmatrix}
$$
